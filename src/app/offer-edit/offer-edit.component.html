<div class="container">
  <form [formGroup]="invoiceForm" (ngSubmit)="onCreateOffer()">
    <button
      class="btn btn-success"
      type="submit"
      [disabled]="!invoiceForm.valid"
      style="margin: 0 auto 0.5rem auto"
    >
      Створити пропозицію
    </button>

    <div class="form-group" formGroupName="customer">
      <div class="form-group row" formGroupName="fullName">
        <div class="form-group col-md-3 col-offset-md-1">
          <label for="surname">Прізвище</label>
          <input
            type="text"
            formControlName="surname"
            id="surname"
            class="form-control"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="name">Ім'я</label>
          <input
            type="text"
            formControlName="name"
            id="name"
            class="form-control"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="patr">По батькові</label>
          <input
            type="text"
            formControlName="patr"
            id="patr"
            class="form-control"
          />
        </div>
      </div>

      <div class="row">
        <div class="form-group col-md-3">
          <label for="phone">Телефон</label>
          <input
            type="tel"
            formControlName="phone"
            id="phone"
            name="phone"
            class="form-control"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="adress">Адреса</label>
          <input
            type="text"
            formControlName="adress"
            id="adress"
            class="form-control"
          />
        </div>

        <div class="form-group col-md-3">
          <label for="postBranch">Пошта</label>
          <input
            type="text"
            formControlName="postBranch"
            id="postBranch"
            class="form-control"
          />
        </div>
      </div>
    </div>
    <hr />
    <div formArrayName="productOffers">
      <button
        class="btn btn-secondary plus-button"
        type="button"
        (click)="onAddProduct()"
        style="margin: 1rem auto 0.5rem auto"
      >
        Додати до замовлення
      </button>

      <div *ngIf="productOffers.controls.length > 0" class="row">
        <div class="col-md-8">
          <label for="productName">Найменування товару</label>
        </div>

        <div class="col-md-2">
          <label for="productAmout">Кількість</label>
        </div>
      </div>

      <div
        class="row"
        *ngFor="let productOffer of productOffers.controls; let i = index"
        [formGroupName]="i"
      >
        <div class="field col-md-8">
          <input
            type="text"
            formControlName="productName"
            class="form-control"
            id="productName"
          />
        </div>

        <div class="field col-md-2">
          <input
            type="number"
            formControlName="productAmount"
            class="form-control"
            id="productAmout"
          />
        </div>

        <div class="col-md-1">
          <button
            class="btn btn-outline-danger"
            (click)="onDeleteProduct(i)"
            style="margin: 0.5rem auto"
          >
            <Strong>X</Strong>
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
